# 开发平台信息

## 目标平台
- **开发板**：RK3588（如香橙派 5 Plus）
- **CPU架构**：ARM64
- **操作系统**：Radxa OS 或 Armbian（基于 Debian/Ubuntu 的 RK3588 优化版本）

## 开发环境
- **当前开发机**：Apple M4 (ARM64)，macOS Darwin 24.4.0
- **开发语言**：Rust
- **交叉编译**：需要设置aarch64-unknown-linux-gnu工具链

## 开发模式选择

经过评估，我们决定采用**混合开发模式**，结合Mac开发环境和RK3588目标平台的优势：

### 在Mac上开发的优势
- 开发环境更加成熟，工具链完善，开发体验更好
- 开发速度更快，Mac性能通常优于RK3588
- 可以使用更多现代IDE和开发工具
- 调试和测试基础功能更加方便

### 直接在RK3588上开发的优势
- 避免了交叉编译的复杂性
- 可以直接测试硬件相关功能
- 开发和运行环境一致，减少兼容性问题
- 最终产品的性能和稳定性更有保障

### 混合开发流程
1. **在Mac上进行基础开发**：
   - 搭建项目框架和基础结构
   - 开发与硬件无关的功能（如API服务、存储管理、基本业务逻辑）
   - 编写单元测试和模拟测试

2. **在RK3588上进行硬件相关开发和最终适配**：
   - 实现摄像头接口和视频处理等硬件相关功能
   - 进行性能优化和硬件加速适配
   - 进行系统集成测试和稳定性测试

3. **设置自动化的交叉编译和部署流程**：
   - 使用Docker容器设置一致的编译环境
   - 编写自动化脚本，简化从Mac到RK3588的部署过程
   - 使用CI/CD工具实现自动化测试和部署

## 项目状态
- **阶段**：初始规划
- **完成度**：0%
- **当前任务**：项目架构设计和基础框架搭建

## 注意事项
1. 需要验证Rust交叉编译到RK3588的可行性
2. 需要测试FFmpeg硬件加速在RK3588上的性能
3. 需要评估实时视频预览的最佳传输方式
4. 需要研究高效的文件打包和下载方法
5. 需要建立高效的Mac到RK3588的代码部署流程

## 环境设置指南
```bash
# 安装Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# 安装交叉编译工具链
rustup target add aarch64-unknown-linux-gnu

# 安装必要的系统依赖
sudo apt-get install -y \
    build-essential \
    pkg-config \
    libssl-dev \
    libv4l-dev \
    libavcodec-dev \
    libavformat-dev \
    libavutil-dev \
    libswscale-dev
```

## 更新日志

- **[当前日期]**：创建开发平台信息文档
- **[当前日期]**：添加混合开发模式的选择和流程
